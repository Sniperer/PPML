import requests
from config import k, URL_PREFIX
from client_Zp import init_all_shares, add_with_gate, total_mp, open, mul_with_gate, share
from client_int import int2Zp, Zp2int
from client_fixed import eps, fixed2Zp, Zp2fixed, reload_fixed
from time import time
import random
from typing import List
import joblib
from sigmoid import sigmoid
from sklearn.linear_model import LogisticRegression

def is_valid(x:float) -> bool:
    if abs(x) <= eps:
        return True
    else:
        return False

def mul_layer(W_name:List[str], X_name:List[str], layer:int) -> int:
    print("mul_layer start-> ")
    for i in range(len(W_name)):
        if i%100 == 0:
            print(f"i = {i}")
        mul_with_gate(W_name[i], X_name[i], f"Z_{layer}_{i}")
        reload_fixed(f"Z_{layer}_{i}")
    return len(W_name)

def add_layer(layer:int, width:int) -> int:
    print(f"add_layer {layer} start-> ")
    for i in range(0,width,2):
        if i == width-1:
            add_with_gate(f"Z_{layer-1}_{width-1}", "NULL", f"Z_{layer}_{width//2}")
            return (width+1)//2        
        add_with_gate(f"Z_{layer-1}_{i}", f"Z_{layer-1}_{i+1}", f"Z_{layer}_{i//2}")
    return width//2


def func_computation_client(W:List[float], X:List[float], offset:float):
    for x in X:
        assert is_valid(x), "Input is out of range"
    W_name = [f"w{i}" for i in range(len(X))]    
    X_name = [f"x{i}" for i in range(len(X))]

    for i in range(len(X)):
        total_mp[X_name[i]] = fixed2Zp(X[i])

    init_all_shares()
    # check whether all shares are initialized
    width = mul_layer(W_name, X_name, 0)
    layer = 1
    while True:
        width = add_layer(layer, width)
        layer += 1
        if width == 1:
            break
    add_with_gate(f"Z_{layer - 1}_{0}", "offset", "pre_result")
    sigmoid("pre_result", "result")
    ans = Zp2fixed(open("result"), scale = 1)    
    return ans
        
def test(X):
    start_time = time()
    size = 1024
    model = joblib.load("./model.joblib")
    W:List[int] = model.coef_.tolist()[0]
    offset:int = model.intercept_.tolist()[0]
    Z = [W[i]*X[i] for i in range(size)]
    ans = offset
    for i in Z:
        ans += i
    end_time = time()
    Taylor = 0.5 + (1/4) * ans - (1/48) * ans**3 + (1/480) * ans**5 - (17/80640) * ans**7 + (4369/92897280) * ans**9
    prob = model.predict_proba([X])[0][1]
    print(f"{func_computation_client(W,X,offset)} == {Taylor} == {prob}")
    

if __name__ == "__main__":
    X = [1.8547644063233246, 1.6098946959591554, 0.23652712562502137, 1.9192680691452664, 1.9349984736380406, 1.9695821777410842, 1.6777427314738944, 1.5071388392996274, 1.5503795191215521, 0.786647236186175, 1.1329196311761285, 1.5763240651297998, 1.0223885962555672, 0.7730732799040193, 1.0532139906780689, 1.2133304266920355, 0.4239690828854933, 0.9741644771119279, 1.4704466396340072, 1.2226608590441825, 1.4977838884369552, 0.7645176722734014, 1.8380336500542964, 1.331529651864878, -0.28863940139368005, 0.5911175814346512, 0.8961350800629154, 0.19001858515243475, 1.117572627824585, 0.04645843386670682, 0.2497516167700273, 0.6074646529045532, 1.0853893400510324, 1.4841725108611676, 0.38007286937003587, 1.5400216478068784, 1.9976537503800316, 1.2427249167118133, 1.8703313021738124, 1.7072546354014666, 0.9599574142967666, 0.6745569239179338, 0.5041427398656425, 1.8328993453003466, 1.386965535577963, 1.7595529829985292, 1.4525216572693407, 1.558698133066008, 0.6960762189109695, 1.2701285044905524, 0.8133273745144105, 1.5846061681539336, 1.5740735553615703, 0.09778011877074147, 1.12185969388461, 1.3096368161070753, 0.7339399834096699, 0.50098969158913, 1.359032161773618, 1.5957492982377444, 0.369942824086359, 0.03359105781700953, 0.020857997113829272, 0.17042865988114747, 0.7621190548968932, 1.4514649998917752, 0.18165003581015243, 1.2531882343215668, 1.709625002349032, 1.8222435186313553, 1.4363764389893012, 1.2879809562111173, 1.6052483278143181, 0.22030403408197555, 1.553205744717942, 1.5184156694124646, 1.6918247962977773, 0.42192622265070484, 1.8768085300757165, 1.3251559240234763, 0.08700524624398315, 0.888964748817614, 1.6246806038345147, 1.2651035885270767, -0.904159565805681, -0.11244820241450422, 1.6208869330013262, 0.08512255113867465, 1.0930433401562203, -0.0023980765204922715, -0.05846543410520143, 0.797366679095596, 1.4829875133409545, 0.8767102888064847, 0.8755754767859718, 0.01638593715553748, 1.265083666329252, 1.6217544324844624, 0.4825484587246651, 1.6588698090483673, 1.8156479550347255, 1.4268008596499924, 1.664285684772872, 2.0165533640250386, 1.739494407103822, 0.7842892446224559, 0.7660160526126765, 1.1373913126990067, 0.9232722697726876, 0.7424345387558305, 1.6012140853182768, 2.010084978664442, 0.028871569241819044, 1.8611268447631648, 1.2297681006468608, 0.5789360174027729, 0.14709463794097485, -0.6023056640313463, 0.21366763482118653, 1.4819683340298027, 0.48290392321188963, -0.2764954117835846, -0.5702234484023451, 1.5592344918768404, 1.507002946770138, 0.8393662209580875, 1.5584813923811953, 1.0330910466256154, -0.42308505262018437, -0.12852933413412523, -0.3941009670149878, -0.02990309703063026, -0.5958316582312628, -0.11357654091013349, -0.03436538235431533, -0.0030083173345940768, -0.39011334131381603, -0.035890485885566606, -0.1821103160962182, 0.1319686439158312, 0.2527173560551048, 0.437115363677572, 1.4250205776962759, 1.9282894761480625, 0.4775970371299054, 0.5466525034729237, 1.262134306527121, -0.13224035992548897, 0.6099790185260282, 0.6930645083387609, -0.8120551865857566, 0.8219130934847334, 0.9891022955423884, 0.4278402216062101, 0.00737774370805237, 1.614173942162691, 0.7035919287428728, 0.151190200197791, 0.6665843157894522, 0.5082296119911556, -0.37022655445663216, -0.471534619928637, -0.5585168747854022, -0.3770695755717306, -0.709589839701518, -0.5723187034071285, -0.31528990728146417, -0.3528124057475451, -0.5574184685881588, -0.46892990562157266, -0.6638762275135701, -0.3951311868691593, -0.45659674785244453, -0.6330566366005964, -0.514379649634805, -0.41688133555264223, -0.38493746902023024, -0.25494046361264455, -0.49653219986409897, 0.1372097129618735, -0.8043943252545398, -0.8853094299282447, -1.1901698520442876, -0.8392780826138351, -1.0171519271719731, -0.7101066737527361, 0.5787437445388891, 0.5890142506008227, 0.3431317475812395, 0.2752622462937591, 1.2089399951565272, 0.09119099954736597, -0.604512733088407, -0.3943142374796307, -0.47869063228008474, -0.38559881231845783, -0.4513804621511459, -0.527795385943769, -0.29907495128703876, -0.6098204615617915, -0.5071951018655295, -0.5038555054638727, -0.7001109270913104, -0.4791694902939875, -0.5315430630302875, -0.5487416524536404, -0.7775100948055518, -0.5566867132685804, -0.5575560422922372, -0.27946060577580434, -0.16703586343960397, -0.47923170414430516, -1.2458809760826344, -1.1355265292000896, -1.0970540829328783, -1.0235419039164455, -0.7235290349274148, -0.7142018566240201, -0.7202319577267866, -0.6571516133540775, -0.6761763847444531, -0.0955636707964016, 0.4224824235141097, -0.08331726730759298, -0.6808080676926088, -0.4196593188766644, -0.24935515501652925, -0.4411174224419781, -0.40247448942546077, -0.6291419808903588, 0.9695504187635959, -0.5923305475150124, -0.4746008270861653, -0.1728028356787207, -0.6789012277782689, -0.29554993057119455, -0.3005958851919029, -0.4028257724129907, -0.33279463210830773, -0.20652438251297006, -0.6517047494928966, -0.10365705375177199, -0.06744828965587886, -0.7317547210140158, -1.1764802639472043, -0.9258952134840585, -1.4788220230994171, -1.3571128796542056, -1.1426458539893523, -0.8580772157283828, 0.02640314933892321, 0.32468753265970146, -0.6794790293982484, -0.4712404365417977, -0.04098401636885287, 0.006237711548311006, -0.37310084064080296, -0.5567189013397051, -0.16100837388864603, 0.06880220725207208, -0.18965121904824586, 0.2232896847914181, -0.14994236263478788, -0.5881298177525537, -0.4035293026083373, 0.26513690843696053, 0.12172431747900013, 0.44605059707818184, -0.10579539369225853, -0.07806785645181824, 0.030792705658581485, 0.15898055823056673, -0.19082925388140815, -0.4864403924012812, -0.8060895440989788, -1.1215660676844408, -1.4844021240342569, -0.8553736817236985, -1.4348027713453089, -1.3831577665242802, -1.1685804263831268, -1.0738754396757324, -0.753817706308069, -0.5331711740688361, -0.22796367945990628, -0.15881084880444496, -0.5159616587522557, 0.08211236325927161, 0.1719082298799707, -0.09018414579304199, 0.3772219385726493, -0.2661107201417728, -0.13297693009189634, -0.019752953114302956, -0.19918765781534706, -0.5152678354274967, -0.34132247551691686, 0.036010466695342545, -0.3810847745344484, -0.15970701547055166, 0.22613352162168956, -0.2152969966708557, 0.02873363555337577, 0.009346732857739615, -0.37173883487487924, 1.3696598848126222, -0.20268646774438487, -1.402993533372585, -1.4922767155274108, -1.6034189381156527, -1.5895220534914516, -1.31513397748249, -1.069047477539006, -0.9446823731642462, -0.9692609434530125, -0.9424735925254016, -1.1043874429559077, -0.3793071274233297, -0.3241904837134154, -0.02469753584857221, 0.33882991031804416, 0.10998221634377946, 0.47259601465132717, 0.31265444816835253, 0.36434801621145324, 0.16131240369570757, 0.2227418876507305, 0.20013710602965162, -0.06511465080728158, 0.16943558211257123, 0.29723446217201444, 0.06673419310579021, 0.11671507512772505, 0.4435053536941485, 0.790301820093853, 0.422162807911171, 0.34441815623394884, -0.5576284932308007, -1.178747518849926, -0.34592309003024196, -1.1318938824041864, -1.536391988615875, -1.6049080880841704, -1.3795763328796498, -0.9687778146661925, -1.1705647582881817, -1.2064843764405464, 0.02859071875743365, 0.2557789766184919, -0.0004909384116632533, 0.49204111445347193, 0.2656662853510659, -0.09373985206197859, 0.37797673580673463, 0.3971447791834509, 0.063793825959559, 0.5102996597848174, 0.25438584388348207, 0.09524706909174818, -0.08223079953993029, 0.13927773684957945, 0.3018968709337828, 0.21856356824071163, -0.04807938091061835, 0.21732822399927798, 0.8734415405397666, 0.49681060154917894, 0.7082922130031422, -1.0212526016882955, -1.461491191885579, -1.2285926193854744, -1.2727051058599828, -1.5284918459478924, -0.7779096132898283, -1.0761447526493488, -1.122775001095394, 0.8351726307406947, 0.9572878802136651, 1.1493233413333919, 1.1015387476169867, 0.57155661794782, 0.6316942961729557, 0.4817645998729962, 0.5659966363540417, 0.3040903866470501, 0.6983726145861279, 0.16636300357646794, 0.4184636386402108, 0.8084158294783906, 0.017613105156166382, 0.23808319993887922, 0.1730417473441713, 0.3609177536853231, -0.20915079154786095, -0.06571530211319757, 0.33868885801580817, 0.6016045174435698, 0.22776263766059276, 0.17120927638450492, -0.9007986360007688, -0.9211310767166634, -1.1186347392944567, -1.3087267999852488, -1.2714854692385933, -1.2753077880689088, -1.3768850821943928, -1.4671605801119516, -0.6222264939934551, 0.9911616937667067, 1.4496646056374147, 1.2808606101690978, -0.1565208910939733, 1.2947004321515827, 1.6022119616042743, 1.331681111528664, 1.345076029092325, 0.8694220075328407, 1.1651488257037879, 1.3553542006058363, 1.5293275249194356, 1.5130834589374444, 1.1793151637638386, 0.8673935542166283, 0.9990445292782233, 1.0003788958684088, 1.0695733151894367, 1.2972686162578002, 1.0159821331147736, 0.9144716108317659, 1.267594568532613, 0.18197890339016762, -0.9878463082889637, -0.925867452366968, -0.9247187289932578, -1.0798756975770174, -1.3429887978412434, -1.375107811751467, -1.316047680470928, -1.2904129044249786, -1.0311133181040986, 1.7530299798657978, 1.784445673873588, 1.4743499496265446, 1.5593961570912078, 1.552516575053113, 1.706750450319959, 1.3660095329208046, 1.3656291227021278, 1.5552184256250379, 1.4235881097057947, 1.5868205758825216, 1.028451443016254, 1.4605403761333113, 1.4874201777094362, 1.7458996152220727, 1.7373561124661359, 1.7713531402602285, 1.5951233196607697, 1.6411702158818593, 1.4321586755136348, 1.6479534504437088, -0.0009404799800631586, -0.3668119012097482, -1.017455837878026, -0.7789673002710322, -1.0522696794672315, -1.063920555907049, -1.2477549753104609, -1.2948534706555415, -1.3803554525440425, -0.9843406739262779, -1.2840469064009936, 1.268928161015006, 1.7487934026113046, 1.6543130562269133, 1.449861051692807, 1.5556968403719351, 1.553973920600745, 1.665395756275527, 1.5574008756964404, 1.247420549938736, 1.5391195638294057, 1.3678641055037863, 1.5515171723749457, 1.665545887360617, 1.53289561001305, 1.5600950545783756, 1.7128019861419943, 1.7198545206086884, 1.314309959347104, 1.543161637690475, 1.5007181403340382, -0.08248250648451924, -0.7354797723713676, -0.6672303893802355, -0.9593362226823824, -0.9001738704663081, -0.9910027070421817, -0.9769229715845459, -1.0353581974415635, -1.1401151681783035, -1.1110059673541597, -1.2850033504148677, -1.1658815338683481, -0.8269100822278631, 1.63930107022026, 1.6840701894363321, 1.597584788947654, 1.6273737389104246, 1.3186234471819838, 1.540645832202177, 1.444531807600888, 1.4205548960946963, 1.3700534583327875, 1.3936766599120325, 1.7309693456682427, 1.6702123865840577, 1.7804028500761975, 1.7282689462907403, 1.6634655862105452, 1.5513705590414923, 1.4186529813556565, 1.575558257266858, 1.578523736740536, -0.7194020596943174, -0.9282059900428543, -1.1924075011188773, -1.233218883147383, -1.1304858996997549, -1.113316149004988, -1.0852002277740949, -1.0830111318459135, -1.1859235053836992, -1.349900088817081, -1.3012229518118705, -1.0682805940177438, 0.8645624788449073, 1.3584688630071589, 1.3258077060827331, 1.4860709297753365, 1.552149327076295, 1.6300805658710695, 1.4123665215884793, 1.6381012072962549, 1.5634277740691807, 1.5338259512069163, 1.3679744149441162, 1.5688621061544565, 1.317075689498385, 1.6659855710430405, 1.9982364184963175, 1.3146011532134034, 1.3969140026668811, 2.0211544457729107, 1.7321166104888555, -0.6955152581924404, -0.975997811433614, -1.151074210457593, -1.2582468770905595, -1.2842825514982044, -1.1492077309565951, -1.0704481638607197, -1.1630144105720535, -1.2019041414566034, -1.2223554642992773, -1.4913370411125084, -1.1915415676838825, -1.1880686204739144, 1.7903381242014265, 1.5013470869971683, 1.2430902975862295, 1.7125514649700815, 1.6751574380944347, 1.715083531891466, 1.739621152669517, 1.614574628278634, 1.552168241254202, 1.221444895656587, 1.5923354886878838, 1.4592008858656211, 1.5405786954567162, 1.5517067660275483, 1.6550213567510161, 1.7758523293990935, 1.6336264175583073, 1.5187319833286217, -0.7056597675872976, -0.9072038123527619, -0.9968330285194544, -1.0824864901804898, -1.2234413221921019, -1.344606614053724, -1.365103795255803, -1.407382461103229, -1.3020807805949246, -1.2536964719617605, -1.3394632711754786, -1.3157191028075734, -1.370303352267697, 1.3890532979513674, 1.2235934491721177, 1.5038251287528817, 1.2295460989575626, 1.6437360815925355, 1.736184689072986, 1.7042583971397338, 1.6096441348622845, 1.0398028113221465, 1.328235940496111, 1.3601383713332322, 1.6948518623454705, 1.7044169825590825, 1.4441899922358539, 1.740037628263826, 1.35644221110791, 1.1991159963826918, 0.97186605054666, -0.8545028015350421, -1.0533749113174873, -1.0237460996702927, -1.175846532372165, -1.371778916782397, -1.3635333265412757, -1.5375614719680728, -1.2715772570933976, -1.2710567594340423, -1.3353753352213136, -1.2560696175492903, -1.448782239120507, -1.3640558892613046, 1.0777497103640348, 1.7207675364294517, 1.6637633927484852, 1.77553827751056, 1.5442761164284609, 1.447935933142101, 1.5790277812397795, 1.3509192951599738, 1.5492260293507505, 1.5168876080511942, 1.3188674986716036, 1.7485420590879295, 1.1783971737490426, 1.2959675733957614, 1.607803909852714, 1.1112174391981544, 1.3078919203460413, 1.2809513375329962, -0.6676119261480302, -0.9972178748640583, -1.1085850399058328, -1.2016167582148023, -1.351524676349067, -1.3255384500432608, -1.4166375580125645, -1.565188426784322, -1.131232151545224, -1.3359655257754468, -1.353856944792307, -1.1627229444063558, -1.3527595952506792, -1.3089085478779412, 1.3891012206334608, 1.4409331523124, 1.3943499150779566, 1.5764227488183482, 1.7703159418202612, 1.1486453364674407, 1.6516439417960804, 1.8508127921118473, 1.7527925905724977, 1.2611927317533314, 1.2721193057080113, 1.4381795366307017, 1.715844480893984, 1.0834886715309697, 1.8723492463352203, 1.7186252902352095, 1.480332219318539, -0.6500434149464394, -0.9534765479399838, -1.0893593368571757, -1.120296703330347, -1.238020685355561, -1.4028969348096785, -1.4408526718758532, -1.5386447886866823, -1.6400629017136494, -1.4806554486404946, -1.2138061408344578, -1.5212040267235765, -1.4550085181064814, -1.5197187188874184, 1.4966422182870847, 1.60123920957866, 1.4688744449909583, 1.4331088787527237, 1.7962068694861044, 1.5441481973877058, 1.2852777822571313, 1.6003888502373753, 1.2951695256871747, 1.5270148400069083, 1.5066390852239522, 0.8823288163420112, 1.2016235733067953, 1.7980102836401697, 1.2797474631590204, 0.8570813036876106, 0.09734445968996991, -0.44757180585480305, -0.6999285893120931, -0.8078353030188711, -1.1072289487582423, -1.208224823141978, -1.4237188245880086, -1.4016329144247308, -1.6027009871706697, -1.5661184053657367, -1.587446993275339, -1.4623170299528268, -1.2264283778987015, -1.3328632704911512, -1.7016329560598606, -1.4797461858922267, 1.599261186763111, 1.241683615722701, 1.4783144609974603, 1.5159419795544835, 0.7541435186934783, 1.425222407979245, 1.1536530976367296, 1.379285586798551, 1.47127816028343, 1.6173285809932678, 1.4236930259750704, 1.3139453028528512, 1.1756236324255793, 1.0898427327750384, 1.4306544053462031, 1.3739149271320297, 0.8603645575702155, -0.45078232941825447, -0.6504107813651796, -0.927726025243259, -0.627934036263489, -1.3397379409383008, -1.5951724647380099, -1.4719587594655519, -1.4586269743046096, -1.6249557852606138, -1.5413956644013265, -1.4223884155353255, -1.2066006342357802, -1.3373724324094236, -1.4450677566324783, -1.3481658587707237, 1.127168658641877, 1.1500546005620922, 1.1627851492266836, 1.322081469096281, 1.4132717314062817, 1.2663310786479625, 1.2464934339271774, 1.5565109796901297, 1.9272119870543165, 1.3102352518509532, 1.1363969408604295, 1.284653654559319, 1.418781042193479, 1.5251895268250075, 1.6460078401596112, 1.4491679551381078, -0.5511635623621944, -0.34201341821547193, -0.6909110420619186, -0.7684459726526401, -0.581037394668654, -1.3300855425818627, -1.4673034016666329, -1.554315316216174, -1.621250642083212, -1.5217630354935257, -1.0265845727924718, -0.20677403159393679, -1.1813067697699662, -1.388819371603405, -1.3226201608355659, 0.7483733351884242, 1.5651316119261873, 1.7135540197447783, 1.0338623594020169, 0.9776391026226566, 1.1517718125684042, 1.037302374197994, 1.38865476086925, 1.6421039005463092, 0.6157732511332602, 1.254268222558897, 0.9270677783745759, 0.9507449602937876, 0.9396935377314607, 1.1397334233587342, 0.7779865495614271, -0.9524920826967781, -0.4562680243562585, -0.88686074571598, -1.1017642323231596, -0.9151710169501178, -1.2467638820545668, -1.4524677990302977, -1.2657357966455118, -1.3799613785043452, -1.17692518022125, -0.746855585839058, 1.5412336827374413, -0.07261069007307475, -1.3508684185372621, -1.418300417244904, -0.9350929888178585, 0.8895266870918099, 0.15444507457534584, 1.320836009445997, 1.581589734179013, 0.6192988223637778, 1.5281408910947123, 1.5539932054119718, 1.3441834990685286, 1.3243054035138755, 1.8164964175467608, 1.087490882906988, 1.577922090588423, 1.220126508550848, 1.3170857505776576, 0.9111394760663584, -1.0698249155205182, -1.3599000029518153, -1.0013989842056656, -1.4575157184785597, -1.5568215102321348, -1.5418120742667512, -1.6791867039318096, -1.350205950032343, -1.4049955778760865, -1.4971229004073396, -1.6888244759379867, -1.5940803105984533, -1.5136311841586219, -0.01750752988789517, -1.25803025586825, -1.2577166394372397, -1.2845381168073922, 1.1602201881704617, 0.4997410822035872, 1.2984098149205605, 0.7850951357268884, 1.4833285557333895, 1.3882246379199754, 1.391048921243364, 1.0030143123963384, 1.5613322662016795, 1.3298642488489443, 0.9404679023523292, 0.09020611833970368, -1.0514785416652785, -1.0278389734036546, -1.4155857543741837, 0.5090172049843752, 1.127343874046268, -1.42373540308017, -1.5836537597786526, -1.7115999277408482, -1.6615100805267653, -1.4103158197575008, -1.3136406134750334, -1.1893060843463965, -0.8589374399204848, -0.3541552685545392, -0.3554545035639197, -0.2651953582776415, -0.2485667779023163, -1.279798953075942, -1.1810308744884161, -1.5572840019290333, -1.2735303963573004, -1.3503175176661024, 1.0233692552174556, 1.2900921673648238, 1.256595265558787, 1.1146828240503786, 1.6108519159257373, 1.2804394456888668, 1.1805038496163995, 1.2146007165175807, 0.7410373865210655, 0.6701600763457137, 1.178194372814555, -0.055694717461126836, 0.638548884149645, 0.23775282293813502, -0.037353513199437145, -1.0041808219594548, -1.3401811755622404, -1.5814236013134757, -0.11420237495037637, 0.3042820800710838, -0.1394236721710983, -0.020836280989211746, 0.13395865114457386, 1.0670038467408751, 0.6422671475392612, 0.9913880492026765, 0.05244070236836222, -0.29203176760123367, -0.9266276951025747, -1.2490472005001638, -1.0288354483684434, 0.6306358999927529, 0.5264590992716511, 1.0174466034849141, 0.6737785591852861, 1.0080973187017672, 0.7871159322626576, -0.32628331682615025, 1.4716943881255797, 1.6366358553720395, 1.0557046072750764, 0.3966899409714913, 0.5296132920716171, 1.0850277705267213, 0.8910032617568473, 1.3285080636844921, 0.7579395470721622, 1.1764461279191554, 0.7237433327697647, -1.3309285999911646, -1.0715876921287886, 0.20880690699833476, 0.8161959651749641, 1.2371736133091273, 0.6187138557488447, 0.441159828560562, 0.6554106641042888, 1.2112835658994137, 0.7665429332386039, 0.937739413407722, 1.0533025772842612, 1.377382821677826, -0.4791024845190078, 0.9494972513555909, 0.8671914773384748, 0.9355837541706502, -0.016034714590177763, 0.8704873625358098, -0.016641679266674245, 1.390429328920648, 1.4099681889074858, 0.8531876067138112, 1.398259183737632, 1.5931761327571157, 0.6775988872530498, 1.1018783707210782, -0.17790645266421448, -0.21308360227513376, 1.0925656140324904, 1.5213358655195104, 0.7134803794283842, 0.29512093366642467, 1.2676827954346197, 1.3434338313517071, 0.6261533541428618, 0.9829590287344712, 0.33139666680612834, 1.2595478516741918, -0.8210242068635154, 0.21708174503098532, 0.9114934836404708, 0.49775034032066173, -0.4920034397960368, 0.6083289778055686, 0.10936051590982579, 0.5247883454372653, 1.2399612642161555, 0.5071215371826546, 1.2672185791220696, 1.0194114838704909, 1.2238111436515704, 1.3445759644178137, 0.8028176930509557, 1.5506388549182897, 1.2684587290624076, 1.2378797084986617, 1.197845743498952, 0.8260837054305799, 0.7248279714449977, 0.9219143044459291, 1.2625355690067959, 1.0758032399976456, 1.3066478916726334, 1.186620910016756, 1.0930346511093838, 0.8797590314974186, 1.0890399004685318, 0.48454059276805594, 0.8550981613634124, 1.0048300215595132, 1.3899592529144296, 0.6480194978721615, 0.7304400271184837, 0.35285195692685606, -0.21458504393195632, -0.2709867380211341, -0.35419521090455475, 1.3530673343599748, 0.17069564378605975, 0.8571317311092375, 0.946926650961176, 1.1917482553827023, 1.3857700736516056, 1.337328825789211, 1.2733576964088333, 1.665145604413469, 0.5778052956166865, 1.2921418817477681]
    test(X)
    
